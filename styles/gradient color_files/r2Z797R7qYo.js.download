;/*FB_PKG_DELIM*/

__d("MWJewelMessageRequestsDropdownHeader.react",["fbt","ix","FDSCircleButton.react","FocusRegion.react","MWJewelDropdownHeaderSeeAllButton.react","MWTopNavListDropdownTitle.react","MessageRequestsBulkActionEditFalcoEvent","MessageRequestsBulkActionsContext.react","fbicon","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useContext;b=k.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(27),f=a.onClose,g=a.onReturn,j=a.title,m=a.url;a=l(c("MessageRequestsBulkActionsContext.react"));var n=a.isBulkActionsEditMode,o=a.setIsBulkActionsEditMode;e[0]!==f||e[1]!==m?(a=k.jsx(c("MWJewelDropdownHeaderSeeAllButton.react"),{onClose:f,testid:void 0,url:m}),e[0]=f,e[1]=m,e[2]=a):a=e[2];var p;e[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=d("fbicon")._(i("477825"),16),p=h._(/*BTDS*/"__JHASH__2p3QPbHcOQO__JHASH__"),e[3]=f,e[4]=p):(f=e[3],p=e[4]);var q;e[5]!==n||e[6]!==o||e[7]!==m?(q=function(){o(!n),c("MessageRequestsBulkActionEditFalcoEvent").log(function(){return{action:11,actioned_thread_count:"0",actioned_unread_thread_count:"0",entry_point:4,folder:m==="/messages/requests/"?-1:-3}})},e[5]=n,e[6]=o,e[7]=m,e[8]=q):q=e[8];var r=n?"deemphasized-overlay":"normal";e[9]!==q||e[10]!==r?(f=k.jsx(c("FDSCircleButton.react"),{icon:f,label:p,onPress:q,size:32,type_DEPRECATED:r}),e[9]=q,e[10]=r,e[11]=f):f=e[11];e[12]!==n||e[13]!==b||e[14]!==f?(p=k.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,id:"mwb-jewel-bulk-actions-edit-button",children:k.jsx("div",{"aria-controls":"message-requests-bulk-actions-buttons","aria-expanded":n,ref:b,children:f})}),e[12]=n,e[13]=b,e[14]=f,e[15]=p):p=e[15];e[16]!==a||e[17]!==p?(q=[a,p],e[16]=a,e[17]=p,e[18]=q):q=e[18];r=q;b=m==="/messages/requests/"?"mwb-jewel-message-requests-title":"mwb-jewel-spam-title";e[19]!==g||e[20]!==o?(f=function(){o(!1),g()},e[19]=g,e[20]=o,e[21]=f):f=e[21];e[22]!==r||e[23]!==f||e[24]!==b||e[25]!==j?(a=k.jsx(c("MWTopNavListDropdownTitle.react"),{actions:r,onReturn:f,testid:void 0,title:j}),e[22]=r,e[23]=f,e[24]=b,e[25]=j,e[26]=a):a=e[26];return a}e=b;g["default"]=e}),226);
__d("useMWLSJewelLoadSpamThreads",["I64","LSFactory","LSIntEnum","LSThreadsRangesQueryStoredProcedure","Promise","ReQL","loadLSThreadsForTheFirstTime","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;(k||d("react")).useMemo;function m(a,e){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads_ranges_v2__generated).filter(function(a){return(l||(l=d("I64"))).equal(a.parentThreadKey,e)})).then(function(f){if(f!=null)if(f.isLoadingBefore)return(i||(i=b("Promise"))).resolve();else return c("LSThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{additionalPagesToFetch:(l||(l=d("I64"))).zero,isLoadingAfter:!0,isLoadingBefore:!1,maxLastActivityTimestampMs:f.minLastActivityTimestampMs,maxThreadKey:f.minThreadKey,parentThreadKey:e,shouldSkipE2eeThreadsRanges:!1});else return c("loadLSThreadsForTheFirstTime")(a,e)})}function a(){var a=d("react-compiler-runtime").c(2),b=(h||(h=c("useReStore")))(),e;a[0]!==b?(e=function(){var a=b.runInTransaction(n,"readwrite",void 0,void 0,f.id+":62");c("promiseDone")(a)},a[0]=b,a[1]=e):e=a[1];a=e;return a}function n(a){return m(a,(j||(j=d("LSIntEnum"))).ofNumber(-2))}g["default"]=a}),98);
__d("MAWJewelMessageRequestsAndSpamDropdownWithTab.react",["fbt","CometHeroInteractionWithDiv.react","CometTopNavListDropdownCard.react","LSIntEnum","MAWJobDefinitions","MAWUIJob","MWJewelMessageRequestsDropdownHeader.react","MWJewelMessengerLink.react","MWMessageRequestSharedTexts.react","MWThreadList.react","MWXTabs.react","MWXText.react","MessageRequestsBulkActionsButtons.react","MessageRequestsBulkActionsContext.react","MessageRequestsViewThreadlistFalcoEvent","XCometMessageRequestsControllerRouteBuilder","XCometMessengerControllerRouteBuilder","isArmadillo","promiseDone","react","react-compiler-runtime","useMWLSJewelLoadSpamThreads"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.createRef,m=b.useContext,n=b.useEffect,o=b.useRef,p=b.useState,q={container:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},r=[{label:h._(/*BTDS*/"__JHASH__bUDoyXheqLY__JHASH__")},{label:h._(/*BTDS*/"__JHASH__LZ2WqyQcdfM__JHASH__")}];function a(a){var b=d("react-compiler-runtime").c(48),e=a.interactionID,f=a.onClose;a=a.onReturn;var g=m(c("MessageRequestsBulkActionsContext.react")),h=g.setIsBulkActionsEditMode;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=l(),b[0]=g):g=b[0];var i=g,t=o(null),u=o(null),v;b[1]!==h?(g=function(){var a=function(a){var b;a=a.target;a instanceof Node&&!((b=i.current)==null?void 0:b.contains(a))&&!((b=t.current)==null?void 0:b.contains(a))&&!((b=u.current)==null?void 0:b.contains(a))&&h(!1)};document.addEventListener("click",a,!0);return function(){document.removeEventListener("click",a,!0)}},v=[u,i,t,h],b[1]=h,b[2]=g,b[3]=v):(g=b[2],v=b[3]);n(g,v);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=[c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/requests/",{}),c("XCometMessengerControllerRouteBuilder").buildExtraURL("/messages/filtered/",{})],b[4]=g):g=b[4];var w=g;v=p(0);var x=v[0],y=v[1];g=p(w[0]);v=g[0];var z=g[1];g=p(!1);var A=g[0];g=g[1];var B=c("useMWLSJewelLoadSpamThreads")(),C;b[5]!==B||b[6]!==x||b[7]!==h?(C=r.map(function(a,b){return babelHelpers["extends"]({},a,{onPress:function(){y(b),z(w[b]),b===1&&(B(),c("isArmadillo")()&&c("promiseDone")(d("MAWUIJob").UIJobStarters.waitUntilPersisted(d("MAWJobDefinitions").jobSerializers.getSpams())),c("MessageRequestsViewThreadlistFalcoEvent").log(s)),h(!1)},selected:x===b})}),b[5]=B,b[6]=x,b[7]=h,b[8]=C):C=b[8];C=C;var D;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(D=d("MWMessageRequestSharedTexts.react").getMessageRequestHeaderTitleText(),b[9]=D):D=b[9];b[10]!==f||b[11]!==a||b[12]!==v?(D=k.jsx(c("MWJewelMessageRequestsDropdownHeader.react"),{onClose:f,onReturn:a,ref:i,title:D,url:v}),b[10]=f,b[11]=a,b[12]=v,b[13]=D):D=b[13];b[14]!==C?(a=k.jsx(c("MWXTabs.react"),{tabs:C}),b[14]=C,b[15]=a):a=b[15];b[16]!==A?(C=A?null:k.jsx("div",babelHelpers["extends"]({className:"xmjcpbm x1k70j0n x11i5rnm xzueoph x1mh8g0r xz9dl7a x14uny0o xsag5q8 xvpee5o"},{children:k.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:d("MWMessageRequestSharedTexts.react").getMessageRequestHeaderInfoText()})})),b[16]=A,b[17]=C):C=b[17];b[18]!==D||b[19]!==a||b[20]!==C?(A=k.jsxs(k.Fragment,{children:[D,a,C]}),b[18]=D,b[19]=a,b[20]=C,b[21]=A):A=b[21];D=A;b[22]===Symbol["for"]("react.memo_cache_sentinel")?(a=(j||(j=d("LSIntEnum"))).ofNumber(-1),b[22]=a):a=b[22];b[23]!==D||b[24]!==f?(C=k.jsx(c("MWThreadList.react"),{gridLabel:"Requests",header:D,lsEntryPoint:"pendingRequests",onClose:f,parentThreadKey:a,responsive:!1,setIsEmptyInbox:g},"requests"),b[23]=D,b[24]=f,b[25]=C):C=b[25];b[26]===Symbol["for"]("react.memo_cache_sentinel")?(A=(j||(j=d("LSIntEnum"))).ofNumber(-2),b[26]=A):A=b[26];b[27]!==D||b[28]!==f?(a=k.jsx(c("MWThreadList.react"),{gridLabel:"Spam",header:D,lsEntryPoint:"jewel",onClose:f,parentThreadKey:A,responsive:!1,setIsEmptyInbox:g},"spam"),b[27]=D,b[28]=f,b[29]=a):a=b[29];b[30]!==C||b[31]!==a?(A=[C,a],b[30]=C,b[31]=a,b[32]=A):A=b[32];g=A;b[33]===Symbol["for"]("react.memo_cache_sentinel")?(D={className:"x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62"},b[33]=D):D=b[33];C=g[x];b[34]!==C?(a=k.jsxs("div",babelHelpers["extends"]({},D,{ref:t,children:[" ",C," "]})),b[34]=C,b[35]=a):a=b[35];b[36]!==e||b[37]!==a?(A=k.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MessageRequestsThreadList",interactionUUID:e,xstyle:q.container,children:a}),b[36]=e,b[37]=a,b[38]=A):A=b[38];b[39]!==x?(g=c("MessageRequestsBulkActionsButtons.react")?k.jsx("div",{ref:u,children:k.jsx(c("MessageRequestsBulkActionsButtons.react"),{entryPoint:x===0?"messageRequests":"spam"})}):null,b[39]=x,b[40]=g):g=b[40];b[41]!==f||b[42]!==v?(D=k.jsx(c("MWJewelMessengerLink.react"),{onClick:f,url:v}),b[41]=f,b[42]=v,b[43]=D):D=b[43];b[44]!==A||b[45]!==g||b[46]!==D?(C=k.jsxs(c("CometTopNavListDropdownCard.react"),{useMaxHeight:!0,children:[A,g,D]}),b[44]=A,b[45]=g,b[46]=D,b[47]=C):C=b[47];return C}function s(){return{action:0,actioned_thread_count:"0",actioned_unread_thread_count:"0",entry_point:4,folder:-3}}g["default"]=a}),226);